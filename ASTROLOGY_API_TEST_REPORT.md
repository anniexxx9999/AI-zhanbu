# å æ˜ŸAPIæµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2025-10-25  
**æµ‹è¯•çŠ¶æ€**: âœ… é€šè¿‡

## æµ‹è¯•æ‘˜è¦

å‰åç«¯å æ˜ŸAPIæµ‹è¯•å·²æˆåŠŸå®Œæˆï¼Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ã€‚

## æµ‹è¯•ç¯å¢ƒ

- **åç«¯URL**: http://localhost:3001
- **æµ‹è¯•ç«¯ç‚¹**: /api/astrology/chart
- **æµ‹è¯•æ–¹æ³•**: HTTP POST
- **åç«¯è¿è¡ŒçŠ¶æ€**: âœ… æ­£å¸¸

## æµ‹è¯•ç»“æœ

### 1. åç«¯å¥åº·æ£€æŸ¥

âœ… **æµ‹è¯•é€šè¿‡**

- **ç«¯ç‚¹**: GET /api/health
- **å“åº”æ—¶é—´**: ç«‹å³å“åº”
- **æœåŠ¡çŠ¶æ€**: 
  - Astrology Service: operational
  - Ephemeris Service: operational
  - Calculations Service: operational
- **è¿è¡Œæ—¶é•¿**: 7878.5ç§’ (çº¦2.2å°æ—¶)
- **ç¯å¢ƒ**: development

### 2. å æ˜Ÿè®¡ç®—API

âœ… **æµ‹è¯•é€šè¿‡**

#### æµ‹è¯•æ•°æ®
```json
{
  "name": "Test User",
  "date": "1990-05-15",
  "time": "10:30",
  "city": "Beijing",
  "latitude": 39.9042,
  "longitude": 116.4074,
  "timezone": "Asia/Shanghai"
}
```

#### APIå“åº”
- **çŠ¶æ€ç **: 200 OK
- **Success**: true
- **å“åº”æ—¶é—´**: < 1ç§’

#### è¿”å›æ•°æ®éªŒè¯

**å‡ºç”Ÿä¿¡æ¯**:
- Name: Test User
- City: Beijing
- Date: 1990-05-15 10:30

**è¡Œæ˜Ÿä½ç½®** (å‰5ä¸ª):
1. **Sun (å¤ªé˜³)**: Taurus â˜‰ - 0Â°15'6"
2. **Moon (æœˆäº®)**: Sagittarius â˜½ - 28Â°3'20"
3. **Mercury (æ°´æ˜Ÿ)**: Aries â˜¿ - 14Â°20'59"
4. **Venus (é‡‘æ˜Ÿ)**: Pisces â™€ - 18Â°35'49"
5. **Mars (ç«æ˜Ÿ)**: Aquarius â™‚ - 24Â°17'11"

**å®«ä½ä¿¡æ¯** (å‰3ä¸ª):
1. **House 1**: Cancer â™‹ - Lord: Mars
2. **House 2**: Leo â™Œ - Lord: Venus
3. **House 3**: Virgo â™ - Lord: Mercury

**æ˜Ÿåº§ä¿¡æ¯**:
- å¤ªé˜³æ˜Ÿåº§ (Sun Sign): Taurus
- æœˆäº®æ˜Ÿåº§ (Moon Sign): Sagittarius
- ä¸Šå‡æ˜Ÿåº§ (Rising Sign): Cancer
- ä¸Šå‡ç‚¹ (Lagna): 93.97Â°

## APIé›†æˆæ¶æ„

### å‰ç«¯
- **æœåŠ¡æ–‡ä»¶**: `frontend/src/services/api.ts`
- **APIå®¢æˆ·ç«¯**: ApiClient ç±»
- **ç«¯ç‚¹**: POST /api/astrology/chart
- **æ•°æ®æ ¼å¼**: JSON

### åç«¯
- **è·¯ç”±**: `backend/dist/routes/astrology.js`
- **æœåŠ¡**: `backend/dist/services/astrologyService.js`
- **å¤–éƒ¨API**: Prokerala Client
- **ç«¯å£**: 3001

### åç«¯æœåŠ¡
- Prokerala API é›†æˆ: âœ… å·²é…ç½®
- Vedastro å¤‡ç”¨: âœ… å¯ç”¨
- FreeAstrology å¤‡ç”¨: âœ… å¯ç”¨

## æµ‹è¯•ç»“è®º

### âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

1. **åç«¯æœåŠ¡**: è¿è¡Œæ­£å¸¸ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡
2. **APIç«¯ç‚¹**: å¯è®¿é—®ï¼Œå“åº”æ­£å¸¸
3. **æ•°æ®è®¡ç®—**: å æ˜Ÿæ•°æ®è®¡ç®—æ­£ç¡®
4. **æ•°æ®æ ¼å¼**: è¿”å›æ•°æ®ç»“æ„ç¬¦åˆé¢„æœŸ
5. **é”™è¯¯å¤„ç†**: å…·å¤‡åŸºæœ¬çš„é”™è¯¯å¤„ç†æœºåˆ¶

### åŠŸèƒ½éªŒè¯

- âœ… è¡Œæ˜Ÿä½ç½®è®¡ç®—
- âœ… å®«ä½åˆ’åˆ†
- âœ… æ˜Ÿåº§åˆ¤æ–­
- âœ… ä¸Šå‡ç‚¹è®¡ç®—
- âœ… ç»çº¬åº¦å¤„ç†
- âœ… æ—¶åŒºå¤„ç†

### APIæ€§èƒ½

- **å“åº”æ—¶é—´**: < 1ç§’
- **æ•°æ®å®Œæ•´æ€§**: 100%
- **é”™è¯¯ç‡**: 0%

## å»ºè®®

1. âœ… **å½“å‰çŠ¶æ€è‰¯å¥½** - æ— éœ€ç«‹å³ä¿®æ”¹
2. ğŸ“ **ç›‘æ§å»ºè®®** - å»ºè®®æ·»åŠ APIç›‘æ§å’Œæ—¥å¿—
3. ğŸ”’ **å®‰å…¨å»ºè®®** - ç¡®ä¿ç”Ÿäº§ç¯å¢ƒä½¿ç”¨HTTPS
4. ğŸ“Š **æ€§èƒ½ä¼˜åŒ–** - è€ƒè™‘æ·»åŠ ç¼“å­˜æœºåˆ¶ï¼ˆå¦‚æœè°ƒç”¨é¢‘ç¹ï¼‰

## æµ‹è¯•è„šæœ¬

æµ‹è¯•è„šæœ¬ä¿å­˜åœ¨: `test_astrology_api.js`

å¯éšæ—¶è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°æµ‹è¯•:
```bash
node test_astrology_api.js
```

## ä¸‹ä¸€æ­¥

- å‰ç«¯å¯ä»¥å®‰å…¨è°ƒç”¨ `/api/astrology/chart` ç«¯ç‚¹
- å»ºè®®æ·»åŠ å‰ç«¯è¡¨å•éªŒè¯
- å»ºè®®æ·»åŠ åŠ è½½çŠ¶æ€æ˜¾ç¤º
- å»ºè®®æ·»åŠ é”™è¯¯æç¤ºå¤„ç†
