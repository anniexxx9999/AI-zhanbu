# å®Œæ•´å æ˜ŸAPIä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

è¾“å…¥ç”¨æˆ·çš„å‡ºç”Ÿæ—¥æœŸå’Œåœ°ç‚¹ï¼Œç³»ç»Ÿè¿”å›å®Œæ•´çš„å é™€å æ˜Ÿæ•°æ®ï¼š
- **D1 (RÄÅ›i)** - æœ¬å‘½ç›˜
- **D9 (Navamsa)** - ä¹åˆ†ç›˜ï¼ˆå©šå§»/ç²¾ç¥ï¼‰
- **D10 (Dasamsa)** - ååˆ†ç›˜ï¼ˆäº‹ä¸š/èŒä¸šï¼‰
- **Dasha** - Vimshottari å¤§è¿

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### è¾“å…¥å‚æ•°ï¼ˆç»Ÿä¸€æ ¼å¼ï¼‰

```json
{
  "name": "ç”¨æˆ·å§“å",
  "date": "1993-11-20",
  "time": "19:55",
  "city": "Beijing",
  "latitude": 39.9042,
  "longitude": 116.4074,
  "timezone": "Asia/Shanghai"
}
```

---

## 1ï¸âƒ£ D1 RÄÅ›iï¼ˆæœ¬å‘½ç›˜ï¼‰

### ç«¯ç‚¹
```
POST /api/astrology/chart
```

### è¿”å›å†…å®¹
- âœ… 9ä¸ªè¡Œæ˜Ÿä½ç½®ï¼ˆSun, Moon, Mars, Mercury, Jupiter, Venus, Saturn, Rahu, Ketuï¼‰
- âœ… 12ä¸ªå®«ä½ä¿¡æ¯
- âœ… ç›¸ä½å…³ç³»
- âœ… ä¸Šå‡ç‚¹ (Lagna)
- âœ… å¤ªé˜³/æœˆäº®/ä¸Šå‡æ˜Ÿåº§
- âœ… Nakshatra (äºŒåä¸ƒå®¿)
- âœ… Yogas (ç‘œä¼½)
- âœ… Mangal Dosha

### è°ƒç”¨ç¤ºä¾‹
```bash
curl -X POST "http://localhost:3001/api/astrology/chart" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "date": "1993-11-20",
    "time": "19:55",
    "city": "Beijing",
    "latitude": 39.9042,
    "longitude": 116.4074,
    "timezone": "Asia/Shanghai"
  }'
```

---

## 2ï¸âƒ£ D9 Navamsaï¼ˆä¹åˆ†ç›˜ï¼‰

### ç«¯ç‚¹
```
POST /api/astrology/varga/navamsa
```

### ç”¨é€”
- **å©šå§»ä¸ä¼´ä¾£**: æŸ¥çœ‹é…å¶ç‰¹å¾å’Œå©šå§»è´¨é‡
- **äººç”Ÿç²¾ç¥å±‚é¢**: å†…åœ¨å“è´¨å’Œdharma
- **è¡Œæ˜Ÿå¼ºåº¦**: åˆ¤æ–­è¡Œæ˜Ÿåœ¨ç»†åˆ†ç›˜ä¸­çš„è¡¨ç°

### å…³é”®åˆ†æç‚¹
- 7å®«ï¼šé…å¶ç‰¹å¾
- ä¸Šå‡ï¼šå†…åœ¨å“è´¨
- é‡‘æ˜Ÿä½ç½®ï¼šä¼´ä¾£å…³ç³»å’Œè°åº¦

### è°ƒç”¨ç¤ºä¾‹
```bash
curl -X POST "http://localhost:3001/api/astrology/varga/navamsa" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "date": "1993-11-20",
    "time": "19:55",
    "city": "Beijing",
    "latitude": 39.9042,
    "longitude": 116.4074,
    "timezone": "Asia/Shanghai"
  }'
```

---

## 3ï¸âƒ£ D10 Dasamsaï¼ˆååˆ†ç›˜ï¼‰

### ç«¯ç‚¹
```
POST /api/astrology/varga/dasamsa
```

### ç”¨é€”
- **äº‹ä¸šä¸èŒä¸š**: èŒä¸šæ–¹å‘å’Œæˆå°±
- **ç¤¾ä¼šåœ°ä½**: åœ¨èŒåœºå’Œç¤¾ä¼šä¸­çš„è¡¨ç°
- **æˆåŠŸç¨‹åº¦**: äº‹ä¸šæˆå°±å’Œè®¤å¯åº¦

### å…³é”®åˆ†æç‚¹
- 10å®«ï¼šäº‹ä¸šæˆå°±å’ŒèŒä¸šæ–¹å‘
- 10å®«ä¸»ï¼šä»äº‹çš„è¡Œä¸šç±»å‹
- è¡Œæ˜Ÿåœ¨10å®«ï¼šèŒä¸šç›¸å…³æ´»åŠ¨

### è°ƒç”¨ç¤ºä¾‹
```bash
curl -X POST "http://localhost:3001/api/astrology/varga/dasamsa" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "date": "1993-11-20",
    "time": "19:55",
    "city": "Beijing",
    "latitude": 39.9042,
    "longitude": 116.4074,
    "timezone": "Asia/Shanghai"
  }'
```

---

## 4ï¸âƒ£ Dashaï¼ˆå¤§è¿å‘¨æœŸï¼‰

### ç«¯ç‚¹
```
POST /api/astrology/dasha
```

### è¿”å›å†…å®¹
- âœ… å½“å‰å¤§è¿ä¿¡æ¯
- âœ… ä¸‹ä¸€ä¸ªå¤§è¿é¢„æµ‹
- âœ… å®Œæ•´9ä¸ªå¤§è¿å‘¨æœŸï¼ˆ120å¹´ï¼‰
- âœ… æ¯ä¸ªå¤§è¿çš„æŒç»­æ—¶é—´ï¼ˆ6å¹´ï¼‰

### è°ƒç”¨ç¤ºä¾‹
```bash
curl -X POST "http://localhost:3001/api/astrology/dasha" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "date": "1993-11-20",
    "time": "19:55",
    "city": "Beijing",
    "latitude": 39.9042,
    "longitude": 116.4074,
    "timezone": "Asia/Shanghai"
  }'
```

### å¤§è¿å‘¨æœŸ
| å¤§è¿ | è¡Œæ˜Ÿ | æŒç»­æ—¶é—´ |
|------|------|----------|
| 1 | Sun â˜‰ | 6å¹´ |
| 2 | Moon â˜½ | 6å¹´ |
| 3 | Mars â™‚ | 6å¹´ |
| 4 | Rahu â˜Š | 6å¹´ |
| 5 | Jupiter â™ƒ | 6å¹´ |
| 6 | Saturn â™„ | 6å¹´ |
| 7 | Mercury â˜¿ | 6å¹´ |
| 8 | Ketu â˜‹ | 6å¹´ |
| 9 | Venus â™€ | 6å¹´ |

**æ€»è®¡**: 120å¹´

---

## ğŸ¯ å®Œæ•´è°ƒç”¨æµç¨‹

### æ­¥éª¤1: è·å–æœ¬å‘½ç›˜ï¼ˆD1ï¼‰
```bash
POST /api/astrology/chart
```
**ç”¨é€”**: äº†è§£åŸºæœ¬çš„ä¸ªæ€§å’Œç”Ÿå‘½è½¨è¿¹

### æ­¥éª¤2: è·å–ä¹åˆ†ç›˜ï¼ˆD9ï¼‰
```bash
POST /api/astrology/varga/navamsa
```
**ç”¨é€”**: åˆ†æå©šå§»ä¼´ä¾£å’Œç²¾ç¥å±‚é¢

### æ­¥éª¤3: è·å–ååˆ†ç›˜ï¼ˆD10ï¼‰
```bash
POST /api/astrology/varga/dasamsa
```
**ç”¨é€”**: é¢„æµ‹äº‹ä¸šæ–¹å‘å’ŒèŒä¸šæˆåŠŸ

### æ­¥éª¤4: è·å–å¤§è¿ï¼ˆDashaï¼‰
```bash
POST /api/astrology/dasha
```
**ç”¨é€”**: äº†è§£äººç”Ÿä¸åŒé˜¶æ®µçš„è¿åŠ¿

---

## ğŸ“Š æ•°æ®æº

- **APIæ¥æº**: Prokerala v2
- **Ayanamsa**: Lahiri
- **è®¡ç®—ç³»ç»Ÿ**: å é™€å æ˜Ÿç³»ç»Ÿ
- **è¯­è¨€æ”¯æŒ**: è‹±æ–‡ã€æ¢µæ–‡åç§°

---

## âœ… è¿”å›æ•°æ®å®Œæ•´æ€§

### D1 æœ¬å‘½ç›˜
- âœ… 9ä¸ªè¡Œæ˜Ÿå®Œæ•´ä½ç½®
- âœ… 12ä¸ªå®«ä½è¯¦ç»†ä¿¡æ¯
- âœ… Rasi (æ˜Ÿåº§) åŠ Lord (å®«ä¸»æ˜Ÿ)
- âœ… Nakshatra (äºŒåä¸ƒå®¿)
- âœ… Yoga (ç‘œä¼½é…ç½®)
- âœ… Mangal Dosha

### D9 ä¹åˆ†ç›˜
- âœ… 9ä¸ªè¡Œæ˜Ÿåœ¨Navamsaä¸­çš„ä½ç½®
- âœ… 12ä¸ªNavamsaå®«ä½
- âœ… å©šå§»ç›¸å…³çš„è¡Œæ˜Ÿé…ç½®

### D10 ååˆ†ç›˜
- âœ… 9ä¸ªè¡Œæ˜Ÿåœ¨Dasamsaä¸­çš„ä½ç½®
- âœ… 12ä¸ªDasamsaå®«ä½
- âœ… äº‹ä¸šç›¸å…³çš„è¡Œæ˜Ÿé…ç½®

### Dasha å¤§è¿
- âœ… å½“å‰å¤§è¿è¯¦ç»†ä¿¡æ¯
- âœ… ä¸‹ä¸€ä¸ªå¤§è¿é¢„æµ‹
- âœ… å®Œæ•´120å¹´å‘¨æœŸ

---

## ğŸŒ APIåŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:3001`
- **Content-Type**: `application/json`
- **Method**: POST

---

## ğŸ”§ é”™è¯¯å¤„ç†

å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œè¿”å›æ ¼å¼ï¼š
```json
{
  "error": "Error type",
  "message": "Error details"
}
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ—¶é—´æ ¼å¼**: ä½¿ç”¨ 24å°æ—¶åˆ¶ (HH:MM)
2. **æ—¥æœŸæ ¼å¼**: YYYY-MM-DD
3. **ç»çº¬åº¦**: éœ€è¦ç²¾ç¡®çš„åæ ‡
4. **æ—¶åŒº**: å¿…é¡»æ˜¯æœ‰æ•ˆçš„æ—¶åŒºæ ‡è¯†ç¬¦
5. **æ‰€æœ‰APIéƒ½ä½¿ç”¨ç›¸åŒçš„è¾“å…¥æ ¼å¼**

---

**æ›´æ–°æ—¶é—´**: 2025-10-25  
**ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
